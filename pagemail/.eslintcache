[{"/Users/ellis/Git/PageMail-website/pagemail/src/reportWebVitals.js":"1","/Users/ellis/Git/PageMail-website/pagemail/src/App.js":"2","/Users/ellis/Git/PageMail-website/pagemail/src/components/navigation.js":"3","/Users/ellis/Git/PageMail-website/pagemail/src/index.js":"4","/Users/ellis/Git/PageMail-website/pagemail/src/components/hero.js":"5","/Users/ellis/Git/PageMail-website/pagemail/src/components/login.js":"6","/Users/ellis/Git/PageMail-website/pagemail/src/components/signup.js":"7","/Users/ellis/Git/PageMail-website/pagemail/src/components/pages.js":"8","/Users/ellis/Git/PageMail-website/pagemail/src/components/user.js":"9","/Users/ellis/Git/PageMail-website/pagemail/src/components/loading.js":"10"},{"size":362,"mtime":1612626856121,"results":"11","hashOfConfig":"12"},{"size":5085,"mtime":1612872081593,"results":"13","hashOfConfig":"12"},{"size":985,"mtime":1612717179031,"results":"14","hashOfConfig":"12"},{"size":500,"mtime":1612626856121,"results":"15","hashOfConfig":"12"},{"size":1318,"mtime":1612626983313,"results":"16","hashOfConfig":"12"},{"size":2485,"mtime":1612873148446,"results":"17","hashOfConfig":"12"},{"size":2509,"mtime":1612873303633,"results":"18","hashOfConfig":"12"},{"size":940,"mtime":1612872342602,"results":"19","hashOfConfig":"12"},{"size":1257,"mtime":1612872401814,"results":"20","hashOfConfig":"12"},{"size":438,"mtime":1612873168616,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1ykmph9",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ellis/Git/PageMail-website/pagemail/src/reportWebVitals.js",[],["46","47"],"/Users/ellis/Git/PageMail-website/pagemail/src/App.js",["48"],"import './App.css';\nimport { useEffect, useState } from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport { Navigation } from './components/navigation.js';\nimport { LoginPage } from './components/login';\nimport { SignUp } from './components/signup';\nimport { SavedPageView } from './components/pages';\nimport { UserView } from './components/user';\nimport { Alert, Button } from 'react-bootstrap';\n\nfunction App() {\n  const [accessToken, setAccessToken] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem('login_token') ? true : false);\n  const [redirect, setRedirect] = useState(null);\n  const [prefillEmail, setPrefillEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [failure, setFailure] = useState('');\n  const API_ROOT = process.env.REACT_APP_API_ROOT;\n\n  // Set up a global \"loading\" property and have all the \"setLoading\" logic and try catch blocks in\n  // an application level function cause typing this out is too hard...\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Listen for a saved API key - to make sure the state is always correct.\n  useEffect(() => {\n    window.addEventListener(\"storage\", () => {\n      if (localStorage.getItem('login_token')) {\n        setLoggedIn(true);\n        setAccessToken(localStorage.getItem('login_token'));\n      } else {\n        setLoggedIn(false);\n        setAccessToken(null);\n        localStorage.removeItem('username')\n      }\n    })\n  })\n\n  // Clean up after a signout event\n  const signOut = () => {\n    localStorage.removeItem('login_token');\n    setLoggedIn(false);\n    setRedirect('/');\n  }\n\n  // Throw an error if the response is not good.\n  function handleError(response) {\n    if (!response.ok) {\n      throw Error(response.status)\n    } else {\n      return response\n    }\n  }\n\n  // API post method\n  function POSTToAPI(method, route, auth_headers, body) {\n    setLoading(true)\n    sleep(1000).then(() => {\n      // Set the headers\n      const headers = {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n      if (auth_headers) {\n        headers.Authorization = \"Bearer \" + localStorage.getItem('login_token');\n      }\n      // Perform the request\n      const response = fetch(\n        API_ROOT + route, {\n          method: method,\n          redirect: \"follow\",\n          headers: headers,\n          body: body\n        }\n      )\n      .then(handleError)\n      .then(response => response.json())\n      .catch(error => {setFailure('Something went wrong connecting to our servers, please try again. HTTP ' + error.message)})\n      setLoading(false)\n      return response\n    })\n  }\n\n  // Keep the token in a variable in case it is needed (probably wont be soon - replace with a function like below)\n  useEffect(() => {\n    setAccessToken(localStorage.getItem('login_token'))\n  }, [loggedIn])\n  // Proabbly less memory intensive and a drop in replacment.\n  // const accessToken = () => {localStorage.getItem('login_token')}\n\n  useEffect(() => {\n    console.log(failure)\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Navigation loggedIn={loggedIn} />\n      <BrowserRouter>\n      {redirect ? <Redirect to={redirect} /> : null}\n        <Switch>\n          <Route path=\"/login\">\n            <h1>Log in</h1>\n            {loggedIn\n            ? <p>You are already logged in.</p>\n            : <LoginPage\n              loading={loading}\n              loginCall={POSTToAPI}\n              redirect={setRedirect}\n              loginStatus={setLoggedIn}\n              prefillEmail={setPrefillEmail} />}\n          </Route>\n          <Route path=\"/signup\">\n            <h1>Sign up</h1>\n            {loggedIn ? <p>You are already logged in.</p>\n            : <SignUp\n              loading={loading}\n              signupCall={POSTToAPI} \n              redirect={setRedirect}\n              loginStatus={setLoggedIn}\n              prefillEmail={prefillEmail} />}\n          </Route>\n          <Route path=\"/pages\">\n            <h1>User Pages</h1>\n            {loggedIn\n            ? <SavedPageView\n              loading={loading}\n              pageCall={POSTToAPI} />\n            : <p>Not logged in</p>}\n          </Route>\n          <Route path=\"/user\">\n            <h1>User information</h1>\n            {loggedIn\n            ? <UserView\n              loading={loading}\n              profileCall={POSTToAPI} />\n            : <p>Not logged in.</p>}\n          </Route>\n          <Route path=\"/token\">\n            <h1>Token:</h1>\n            <p>{accessToken ? accessToken : \"No token\"}</p>\n          </Route>\n          <Route path=\"/signout\">\n            <p>Click to sign out</p>\n            <Button onClick={signOut}>Sign out.</Button>\n          </Route>\n          <Route path=\"/\">\n            <h1>Home</h1>\n          </Route>\n        </Switch>\n      </BrowserRouter>\n      <Alert\n        show={(failure !== '')}\n        variant=\"warning\"\n        onClose={() => setFailure('')}\n        dismissible\n        transition>{failure}</Alert>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/ellis/Git/PageMail-website/pagemail/src/components/navigation.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/index.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/hero.js",["49"],"import { Button, Col, Container, Form, Jumbotron, Row } from 'react-bootstrap';\n\nexport function Hero(props) {\n    const handleInput = (event) => {props.emailPrefill(event.target.value)}\n    const submitForm = (event) => {\n        event.preventDefault();\n        props.handleShow();\n    }\n    return (\n        <Container fluid className=\"my-5\" bg=\"primary\">\n            <Row>\n                <Col md={10} className=\"mx-auto\">\n                    <h1 className=\"display-3 my-2\">Pagemail</h1>\n                    <p className=\"lead\">Read it later, straight to your inbox.</p>\n                    <hr className=\"my-4\" />\n                    <Form onSubmit={submitForm}>\n                        <Form.Row>\n                            <Col md={10} xs={12} className=\"my-2\">\n                                <Form.Control type=\"email\" size=\"lg\" onChange={handleInput} placeholder='Enter your email to get started...' />\n                            </Col>\n                            <Col md={2} xs={12} className=\"my-2\">\n                                <Button bg=\"primary\" size=\"lg\" block=\"true\" type=\"button\" onClick={props.handleShow}>Sign up!</Button>\n                            </Col>\n                        </Form.Row>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n    )\n}","/Users/ellis/Git/PageMail-website/pagemail/src/components/login.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/signup.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/pages.js",["50"],"import { useEffect, useState } from \"react\"\nimport { LoadingButton } from \"./loading\";\n\nfunction Page(props) {\n    return (\n        <>\n            <h1>{props.title}</h1>\n            <p>{props.body}</p>\n            <br/>\n        </>\n    )\n} \n\nexport function SavedPageView(props) {\n    const [pages, setPages] = useState([]);\n\n    const loadPages = () => {\n        const fetchedPages = async () => {\n            const response = await props.pageCall(\"GET\", \"/page/mypages\", true, null);\n            setPages(response ? response : [])\n        }\n        fetchedPages();\n    }\n\n    useEffect(() => {\n        loadPages()\n    }, [])\n    return (\n        <>\n            <LoadingButton loading={props.loading} reloadCallback={loadPages} buttonText=\"Retry\" />\n            {(pages !== [])\n            ? pages.map(item => (<Page title={item.page_url} body={item.page_url} key={item.id} />))\n                : <p>Pages is null.</p>}\n        </>\n    )\n}","/Users/ellis/Git/PageMail-website/pagemail/src/components/user.js",["51","52","53"],"/Users/ellis/Git/PageMail-website/pagemail/src/components/loading.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":94,"column":6,"nodeType":"60","endLine":94,"endColumn":8,"suggestions":"61"},{"ruleId":"62","severity":1,"message":"63","line":1,"column":40,"nodeType":"64","messageId":"65","endLine":1,"endColumn":49},{"ruleId":"58","severity":1,"message":"66","line":27,"column":8,"nodeType":"60","endLine":27,"endColumn":10,"suggestions":"67"},{"ruleId":"62","severity":1,"message":"68","line":2,"column":10,"nodeType":"64","messageId":"65","endLine":2,"endColumn":16},{"ruleId":"62","severity":1,"message":"69","line":2,"column":18,"nodeType":"64","messageId":"65","endLine":2,"endColumn":25},{"ruleId":"58","severity":1,"message":"70","line":30,"column":8,"nodeType":"60","endLine":30,"endColumn":10,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'failure'. Either include it or remove the dependency array.","ArrayExpression",["74"],"no-unused-vars","'Jumbotron' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'loadPages'. Either include it or remove the dependency array.",["75"],"'Button' is defined but never used.","'Spinner' is defined but never used.","React Hook useEffect has a missing dependency: 'loadInformation'. Either include it or remove the dependency array.",["76"],"no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [failure]",{"range":"83","text":"84"},"Update the dependencies array to be: [loadPages]",{"range":"85","text":"86"},"Update the dependencies array to be: [loadInformation]",{"range":"87","text":"88"},[3099,3101],"[failure]",[623,625],"[loadPages]",[848,850],"[loadInformation]"]