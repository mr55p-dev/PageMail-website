[{"/Users/ellis/Git/PageMail-website/pagemail/src/reportWebVitals.js":"1","/Users/ellis/Git/PageMail-website/pagemail/src/App.js":"2","/Users/ellis/Git/PageMail-website/pagemail/src/components/navigation.js":"3","/Users/ellis/Git/PageMail-website/pagemail/src/index.js":"4","/Users/ellis/Git/PageMail-website/pagemail/src/components/hero.js":"5","/Users/ellis/Git/PageMail-website/pagemail/src/components/login.js":"6","/Users/ellis/Git/PageMail-website/pagemail/src/components/signup.js":"7","/Users/ellis/Git/PageMail-website/pagemail/src/components/pages.js":"8","/Users/ellis/Git/PageMail-website/pagemail/src/components/user.js":"9","/Users/ellis/Git/PageMail-website/pagemail/src/components/loading.js":"10","/Users/ellis/Git/PageMail-website/pagemail/src/components/footer.js":"11"},{"size":362,"mtime":1612626856121,"results":"12","hashOfConfig":"13"},{"size":4765,"mtime":1612895396434,"results":"14","hashOfConfig":"13"},{"size":991,"mtime":1612899342711,"results":"15","hashOfConfig":"13"},{"size":500,"mtime":1612626856121,"results":"16","hashOfConfig":"13"},{"size":1318,"mtime":1612626983313,"results":"17","hashOfConfig":"18"},{"size":2577,"mtime":1612898602756,"results":"19","hashOfConfig":"13"},{"size":2509,"mtime":1612898606551,"results":"20","hashOfConfig":"13"},{"size":2205,"mtime":1612879539173,"results":"21","hashOfConfig":"13"},{"size":1950,"mtime":1612879539174,"results":"22","hashOfConfig":"13"},{"size":470,"mtime":1612879539165,"results":"23","hashOfConfig":"13"},{"size":1464,"mtime":1612879539165,"results":"24","hashOfConfig":"13"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"1lwcr61",{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"27"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},"1ykmph9",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"27"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"27"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"27"},"/Users/ellis/Git/PageMail-website/pagemail/src/reportWebVitals.js",[],["53","54"],"/Users/ellis/Git/PageMail-website/pagemail/src/App.js",["55"],"import './App.css';\nimport { useEffect, useState } from 'react';\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport { Navigation } from './components/navigation.js';\nimport { LoginPage } from './components/login';\nimport { SignUp } from './components/signup';\nimport { SavedPageView } from './components/pages';\nimport { UserView } from './components/user';\nimport { Footer } from './components/footer';\nimport { Alert, Button } from 'react-bootstrap';\n\nfunction App() {\n  const [accessToken, setAccessToken] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem('login_token') ? true : false);\n  const [redirect, setRedirect] = useState(null);\n  const [prefillEmail, setPrefillEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [failure, setFailure] = useState('');\n  const API_ROOT = process.env.REACT_APP_API_ROOT;\n\n  // Set up a global \"loading\" property and have all the \"setLoading\" logic and try catch blocks in\n  // an application level function cause typing this out is too hard...\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Listen for a saved API key - to make sure the state is always correct.\n  useEffect(() => {\n    window.addEventListener(\"storage\", () => {\n      if (localStorage.getItem('login_token')) {\n        setLoggedIn(true);\n        setAccessToken(localStorage.getItem('login_token'));\n      } else {\n        setLoggedIn(false);\n        setAccessToken(null);\n        localStorage.removeItem('username')\n      }\n    })\n  })\n\n  // Clean up after a signout event\n  const signOut = () => {\n    localStorage.removeItem('login_token');\n    setLoggedIn(false);\n    setRedirect('/');\n  }\n\n  // Throw an error if the response is not good.\n  function handleError(response) {\n    if (!response.ok) {\n      throw Error(response.status)\n    } else {\n      setFailure('')\n      return response\n    }\n  }\n\n  // API post method\n  async function POSTToAPI(method, route, auth_headers, body) {\n    setLoading(true)\n    // Set the headers\n    const headers = {'Content-Type': 'application/x-www-form-urlencoded'}\n    headers.Authorization = auth_headers ? \"Bearer \" + localStorage.getItem('login_token') : ''\n    await sleep(1000)\n    // Perform the request\n    const response = fetch(\n      API_ROOT + route, {\n        method: method,\n        redirect: \"follow\",\n        headers: headers,\n        body: body\n      }\n    )\n    .then(handleError)\n    .then(response => response.json())\n    .catch(error => {setFailure('Something went wrong connecting to our servers, please try again. HTTP ' + error.message)})\n    setLoading(false)\n    return response\n  }\n\n  // Keep the token in a variable in case it is needed (probably wont be soon - replace with a function like below)\n  useEffect(() => {\n    setAccessToken(localStorage.getItem('login_token'))\n  }, [loggedIn])\n  // Proabbly less memory intensive and a drop in replacment.\n  // const accessToken = () => {localStorage.getItem('login_token')}\n\n  return (\n    <div className=\"App\">\n      <Navigation loggedIn={loggedIn} />\n      <Alert\n        show={(failure !== '')}\n        variant=\"warning\"\n        onClose={() => setFailure('')}\n        dismissible\n        transition>{failure}</Alert>\n      <Router>\n      {redirect ? <Redirect to={redirect} /> : null}\n        <Switch>\n          <Route path=\"/login\">\n            {loggedIn\n            ? <p>You are already logged in.</p>\n            : <LoginPage\n              loading={loading}\n              loginCall={POSTToAPI}\n              redirect={setRedirect}\n              loginStatus={setLoggedIn}\n              prefillEmail={setPrefillEmail} />}\n          </Route>\n          <Route path=\"/signup\">\n            {loggedIn ? <p>You are already logged in.</p>\n            : <SignUp\n              loading={loading}\n              signupCall={POSTToAPI}\n              redirect={setRedirect}\n              loginStatus={setLoggedIn}\n              prefillEmail={prefillEmail} />}\n          </Route>\n          <Route path=\"/pages\">\n            {loggedIn\n            ? <SavedPageView\n              loading={loading}\n              pageCall={POSTToAPI} />\n            : <p>Not logged in</p>}\n          </Route>\n          <Route path=\"/user\">\n            {loggedIn\n            ? <UserView\n              loading={loading}\n              profileCall={POSTToAPI} />\n            : <p>Not logged in.</p>}\n          </Route>\n          <Route path=\"/signout\">\n            <p>Click to sign out</p>\n            <Button onClick={signOut}>Sign out.</Button>\n          </Route>\n          <Route path=\"/\">\n            <h1>Home</h1>\n          </Route>\n        </Switch>\n      </Router>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/ellis/Git/PageMail-website/pagemail/src/components/navigation.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/index.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/hero.js",["56"],"import { Button, Col, Container, Form, Jumbotron, Row } from 'react-bootstrap';\n\nexport function Hero(props) {\n    const handleInput = (event) => {props.emailPrefill(event.target.value)}\n    const submitForm = (event) => {\n        event.preventDefault();\n        props.handleShow();\n    }\n    return (\n        <Container fluid className=\"my-5\" bg=\"primary\">\n            <Row>\n                <Col md={10} className=\"mx-auto\">\n                    <h1 className=\"display-3 my-2\">Pagemail</h1>\n                    <p className=\"lead\">Read it later, straight to your inbox.</p>\n                    <hr className=\"my-4\" />\n                    <Form onSubmit={submitForm}>\n                        <Form.Row>\n                            <Col md={10} xs={12} className=\"my-2\">\n                                <Form.Control type=\"email\" size=\"lg\" onChange={handleInput} placeholder='Enter your email to get started...' />\n                            </Col>\n                            <Col md={2} xs={12} className=\"my-2\">\n                                <Button bg=\"primary\" size=\"lg\" block=\"true\" type=\"button\" onClick={props.handleShow}>Sign up!</Button>\n                            </Col>\n                        </Form.Row>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n    )\n}","/Users/ellis/Git/PageMail-website/pagemail/src/components/login.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/signup.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/pages.js",["57","58"],"import { useEffect, useState } from \"react\";\nimport { Button, Card, CardDeck, Container, Row, Col } from 'react-bootstrap';\nimport { LoadingButton } from \"./loading\";\n\nfunction Page(props) {\n    return (\n        <Col xl={3} md={6} xs={12} className=\"my-2\">\n            <Card>\n                <Card.Body>\n                    <Card.Title className=\"text-center\">{props.title}</Card.Title>\n                    <Card.Text>\n                        Page summary will be included here soon.\n                        <Row>\n                            <Col xl={4} sm={12} className=\"mt-1\">\n                                <Button block variant=\"warning\" onClick={() => {}}>Delete</Button>\n                            </Col>\n                            <Col xl={4} sm={12} className=\"mt-1\">\n                                <Button block variant=\"info\" onClick={() => {}}>Mark Read</Button>\n                            </Col>\n                            <Col xl={4} sm={12} className=\"mt-1\">\n                                <Button block variant=\"primary\" onClick={() => window.open(props.url)}>Open</Button>\n                            </Col>\n                        </Row>\n                    </Card.Text>\n                </Card.Body>\n                <Card.Footer>\n                    <small>Added at {props.date}</small>\n                </Card.Footer>\n            </Card>\n        </Col>\n        )\n}\n\nexport function SavedPageView(props) {\n    const [pages, setPages] = useState([]);\n    const loadPages = () => {\n        const fetchedPages = async () => {\n            const response = await props.pageCall(\"GET\", \"/page/mypages\", true, null);\n            setPages(response ? response : [])\n        }\n        fetchedPages();\n    }\n\n    useEffect(() => {\n        loadPages()\n    }, [])\n\n    return (\n        <>\n        <Container fluid className=\"cardDeckContainer mx-auto\">\n            <Row>\n            {(pages !== [])\n            ? pages.map(item => (<Page title={item.page_url} url={item.page_url} date={item.date_added} key={item.id} />))\n            : <p>Loading.</p>}\n            </Row>\n            <LoadingButton loading={props.loading} reloadCallback={loadPages} />\n        </Container>\n\n        </>\n    )\n}","/Users/ellis/Git/PageMail-website/pagemail/src/components/user.js",["59"],"import { useEffect, useState } from \"react\"\nimport { Container, Form, Row, Col } from \"react-bootstrap\";\nimport { LoadingButton } from './loading';\n\nexport function UserView(props) {\n    const [userInfo, setUserInfo] = useState(null);\n\n    const loadInformation = () => {\n        const fetchProfile = async () => {\n            const response = await props.profileCall(\"GET\", \"/user/self\", true, null)\n            setUserInfo(response ? response : null)\n        }\n        fetchProfile()\n\n    }\n    useEffect(() => {\n        loadInformation()\n    }, [])\n    \n    return (\n        <>\n        <Container fluid>\n            <Row>\n                <Col xl={4} md={8} xs={12} className=\"mx-auto\">\n                    <Container color=\"primary\" className=\"form-container bg-active\">\n                        <Form id=\"infoForm\">\n                            <Form.Group as={Row} controlId=\"formBasicEmail\" name=\"infoName\" id=\"signup_email\">\n                                <Form.Label column sm={2}>Name</Form.Label>\n                                <Col sm={10}>\n                                    <Form.Control type=\"text\" readOnly={true} defaultValue={userInfo ? userInfo.name : \"\"} />\n                                </Col>\n                            </Form.Group>\n                            <Form.Group as={Row} controlId=\"formBasicEmail\" name=\"infoEmail\" id=\"signup_email\">\n                                <Form.Label column sm={2}>Email address</Form.Label>\n                                <Col sm={10}>\n                                    <Form.Control type=\"email\" readOnly defaultValue={userInfo ? userInfo.email : \"\"} />\n                                </Col>\n                            </Form.Group>\n                        <LoadingButton loading={props.loading} reloadCallback={loadInformation} />\n                        </Form>\n                    </Container>\n                </Col>\n            </Row>\n        </Container>\n        </>\n    )\n}","/Users/ellis/Git/PageMail-website/pagemail/src/components/loading.js",[],"/Users/ellis/Git/PageMail-website/pagemail/src/components/footer.js",["60","61"],"export const Footer = () => {\n    return(\n    <footer className=\"footer bg-light\">\n        <div className=\"container-fluid mx-auto mt-4\">\n            <div className=\"row\">\n                <div className=\"col-12 my-auto h-100 text-center\"><a href=\"#\"></a>\n                    <ul className=\"list-inline mb-2\">\n                        {/* <!-- <li className=\"list-inline-item\"><a href=\"#\">About</a></li>\n                        <li className=\"list-inline-item\"><span>⋅</span></li>\n                        <li className=\"list-inline-item\"><a href=\"#\">Contact</a></li>\n                        <li className=\"list-inline-item\"><span>⋅</span></li>\n                        <li className=\"list-inline-item\"><a href=\"#\">Terms of &nbsp;Use</a></li>\n                        <li className=\"list-inline-item\"><span>⋅</span></li>\n                        <li className=\"list-inline-item\"><a href=\"#\">Privacy Policy</a></li> --> */}\n                    </ul>\n                    <p className=\"text-muted small mb-4 mx-auto\">© Pagemail 2021. All Rights Reserved. Project hosted by <button className=\"btn btn-link\" onClick={() => {window.open(\"https://pages.github.com/\")}}>GitHub Pages</button>.</p>\n                </div>\n                <div className=\"col-lg-6 my-auto h-100 text-center text-lg-right mx-auto\">\n                    <ul className=\"list-inline mb-0\">\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </footer>\n    )\n}\n\n",{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":13,"column":10,"nodeType":"68","messageId":"69","endLine":13,"endColumn":21},{"ruleId":"66","severity":1,"message":"70","line":1,"column":40,"nodeType":"68","messageId":"69","endLine":1,"endColumn":49},{"ruleId":"66","severity":1,"message":"71","line":2,"column":24,"nodeType":"68","messageId":"69","endLine":2,"endColumn":32},{"ruleId":"72","severity":1,"message":"73","line":46,"column":8,"nodeType":"74","endLine":46,"endColumn":10,"suggestions":"75"},{"ruleId":"72","severity":1,"message":"76","line":18,"column":8,"nodeType":"74","endLine":18,"endColumn":10,"suggestions":"77"},{"ruleId":"78","severity":1,"message":"79","line":6,"column":67,"nodeType":"80","endLine":6,"endColumn":79},{"ruleId":"81","severity":1,"message":"82","line":6,"column":67,"nodeType":"80","endLine":6,"endColumn":79},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'accessToken' is assigned a value but never used.","Identifier","unusedVar","'Jumbotron' is defined but never used.","'CardDeck' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadPages'. Either include it or remove the dependency array.","ArrayExpression",["85"],"React Hook useEffect has a missing dependency: 'loadInformation'. Either include it or remove the dependency array.",["86"],"jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation",{"desc":"87","fix":"88"},{"desc":"89","fix":"90"},"Update the dependencies array to be: [loadPages]",{"range":"91","text":"92"},"Update the dependencies array to be: [loadInformation]",{"range":"93","text":"94"},[1771,1773],"[loadPages]",[548,550],"[loadInformation]"]