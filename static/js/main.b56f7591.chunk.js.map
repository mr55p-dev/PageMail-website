{"version":3,"sources":["components/navigation.js","components/login.js","components/signup.js","components/loading.js","components/pages.js","components/user.js","components/footer.js","App.js","reportWebVitals.js","index.js"],"names":["Navigation","props","Navbar","bg","variant","Brand","href","Toggle","aria-controls","Collapse","id","Nav","className","Link","loggedIn","LoginPage","submitForm","event","a","preventDefault","console","log","form","URLSearchParams","append","target","value","loginCall","data","localStorage","setItem","access_token","loginStatus","redirect","Container","fluid","Row","Col","xl","md","xs","color","Form","onSubmit","Group","controlId","name","Label","Control","type","placeholder","sm","Button","block","onClick","e","prefillEmail","disabled","loading","Spinner","as","animation","size","role","aria-hidden","SignUp","signupCall","token","defaultValue","LoadingButton","reloadCallback","buttonText","Page","Card","Body","Title","title","Text","window","open","url","Footer","date","SavedPageView","useState","pages","setPages","loadPages","pageCall","response","fetchedPages","useEffect","map","item","page_url","date_added","UserView","userInfo","setUserInfo","loadInformation","profileCall","fetchProfile","column","readOnly","email","App","setAccessToken","getItem","setLoggedIn","setRedirect","setPrefillEmail","setLoading","failure","setFailure","API_ROOT","process","sleep","ms","Promise","resolve","setTimeout","handleError","ok","Error","status","POSTToAPI","method","route","auth_headers","body","headers","Authorization","fetch","then","json","catch","error","message","addEventListener","removeItem","Alert","show","onClose","dismissible","transition","to","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b56f7591.chunk.js","sourcesContent":["import { Navbar, Nav } from 'react-bootstrap';\n\nexport function Navigation(props) {\n    return (\n    <>\n        <Navbar bg=\"primary\" variant=\"dark\">\n          <Navbar.Brand href=\"/\">PageMail</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"navbar-nav\" />\n          <Navbar.Collapse id=\"navbar-nav mr-auto\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link>About</Nav.Link>\n              { props.loggedIn ?\n              <Nav.Link href=\"#/pages\">Pages</Nav.Link>\n              : <></>}\n            </Nav>\n          </Navbar.Collapse>\n          <Nav>{ props.loggedIn\n            ? <>\n            <Nav.Link href=\"#/user\" className=\"mr-2\">Profile</Nav.Link>\n            <Nav.Link href=\"#/signout\" className=\"mr-2\">Sign out</Nav.Link> </>\n            : <>\n            <Nav.Link href=\"#/signup\">Sign up!</Nav.Link>\n            <Nav.Link href=\"#/login\">Log in</Nav.Link> </> }\n          </Nav>\n        </Navbar>\n    </>\n    )\n}\n\n","import { Button, Form, Row, Col, Container , Spinner} from \"react-bootstrap\";\n\nexport function LoginPage(props) {\n    const submitForm = async (event) => {\n        event.preventDefault();\n        // Construct form\n        console.log(event)\n        const form = new URLSearchParams()\n        form.append(\"username\", event.target.form[0].value)\n        form.append(\"password\", event.target.form[1].value)\n        // Fetch and store the token\n        const data = await props.loginCall('POST', '/user/token', false, form);\n        if (data) {\n            localStorage.setItem(\"login_token\", data.access_token);\n            props.loginStatus(true);\n            props.redirect('/pages')\n        }\n    }\n\n    const handleSignup = (e) => {\n        e.preventDefault()\n        props.prefillEmail(e.target.form[0].value)\n        props.redirect('/signup')\n    }\n\n    return (\n    <>\n    <Container fluid>\n        <Row>\n            <Col xl={4} md={8} xs={12} className=\"mx-auto\">\n                <Container color=\"primary\" className=\"form-container bg-active\">\n                    <Form id=\"loginForm\" onSubmit={submitForm}>\n                        <Form.Group controlId=\"formBasicEmail\" name=\"signup_email\" id=\"signup_email\">\n                            <Form.Label>Email address</Form.Label>\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\" name=\"signup_password\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type=\"password\" placeholder=\"Password\" />\n                        </Form.Group>\n                        <Row>\n                            <Col sm={12} xl={6}>\n                        <Button block variant=\"secondary\" type=\"button\" onClick={handleSignup}>Sign Up</Button>\n                            </Col>\n                            <Col sm={12} xl={6}>\n                                <Button\n                                block\n                                variant=\"primary\"\n                                type=\"submit\"\n                                onClick={submitForm}\n                                disabled={props.loading}>\n    {props.loading\n    ? <><Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> Loading</>\n    : \"Log in\"}</Button>\n                            </Col>\n                        </Row>\n                    </Form>\n                </Container>\n            </Col>\n        </Row>\n    </Container>\n    </>\n    )\n}","import { Button, Form, Container, Row, Col, Spinner } from 'react-bootstrap';\n\nexport function SignUp(props) {\n\nconst submitForm = async (event) => {\n  event.preventDefault();\n  // Construct the form\n  const form = new URLSearchParams()\n  form.append(\"email\", event.target[0].value)\n  form.append(\"name\", event.target[1].value)\n  form.append(\"password\", event.target[2].value)\n\n  // Register the user\n    const data = await props.signupCall(\"POST\", \"/user/register\", false, form);\n    if (data) {\n      localStorage.setItem('login_token', data.token.access_token);\n      props.loginStatus(true);\n      props.redirect('/user')\n    }\n  }\n\n  const handleLogin = () => {props.redirect('/login')}\n\n  return (\n    <>\n      <Container fluid>\n        <Row>\n            <Col xl={4} md={8} xs={12} className=\"mx-auto\">\n              <Container color=\"primary\" className=\"form-container bg-active\">\n                <Form id=\"signupForm\" onSubmit={submitForm}>\n                  <Form.Group controlId=\"formBasicEmail\" name=\"signup_email\" id=\"signup_email\">\n                    <Form.Label>Email address</Form.Label>\n                    <Form.Control type=\"email\" placeholder=\"Enter email\" defaultValue={props.prefillEmail} />\n                  </Form.Group>\n\n                  <Form.Group controlId=\"formBasicName\" name=\"signup_name\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Your name\" />\n                  </Form.Group>\n\n                  <Form.Group controlId=\"formBasicPassword\" name=\"signup_password\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control type=\"password\" placeholder=\"Password\" />\n                  </Form.Group>\n                  <Row>\n                    <Col sm={12} xl={6}>\n                      <Button block variant=\"secondary\" type=\"button\" onClick={handleLogin}>Log in</Button>\n                    </Col>\n                    <Col sm={12} xl={6}>\n                    <Button\n                                block\n                                variant=\"primary\"\n                                type=\"submit\"\n                                disabled={props.loading}>\n    {props.loading\n    ? <><Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> Loading</>\n    : \"Sign Up\"}</Button>                    </Col>\n                  </Row>\n                </Form>\n\n              </Container>\n            </Col>\n          </Row>\n        </Container>\n      </>\n  )\n}","import { Button, Spinner } from 'react-bootstrap';\n\nexport function LoadingButton(props) {\n    return (\n        <>\n        <Button\n        variant=\"primary\"\n        disabled={props.loading}\n        onClick={props.reloadCallback}>\n            {props.loading\n            ? <><Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> Loading</>\n            : (props.buttonText) ? props.buttonText : \"Reload\"}\n        </Button>\n        </>\n    )\n}\n\n","import { useEffect, useState } from \"react\";\nimport { Button, Card, CardDeck, Container, Row, Col } from 'react-bootstrap';\nimport { LoadingButton } from \"./loading\";\n\nfunction Page(props) {\n    return (\n        <Col xl={3} md={6} xs={12} className=\"my-2 d-flex\">\n            <Card>\n                <Card.Body className=\"flex-fill\">\n                    <Card.Title className=\"text-center\">{props.title}</Card.Title>\n                    <Card.Text>\n                        Page summary will be included here soon.\n                        <Row>\n                            <Col xl={4} sm={12} className=\"mt-1\">\n                                <Button block variant=\"warning\" onClick={() => {}}>Delete</Button>\n                            </Col>\n                            <Col xl={4} sm={12} className=\"mt-1\">\n                                <Button block variant=\"info\" onClick={() => {}}>Mark Read</Button>\n                            </Col>\n                            <Col xl={4} sm={12} className=\"mt-1\">\n                                <Button block variant=\"primary\" onClick={() => window.open(props.url)}>Open</Button>\n                            </Col>\n                        </Row>\n                    </Card.Text>\n                </Card.Body>\n                <Card.Footer>\n                    <small>Added at {props.date}</small>\n                </Card.Footer>\n            </Card>\n        </Col>\n        )\n}\n\nexport function SavedPageView(props) {\n    const [pages, setPages] = useState([]);\n    const loadPages = () => {\n        const fetchedPages = async () => {\n            const response = await props.pageCall(\"GET\", \"/page/mypages\", true, null);\n            setPages(response ? response : [])\n        }\n        fetchedPages();\n    }\n\n    useEffect(() => {\n        loadPages()\n    }, [])\n\n    return (\n        <>\n        <Container fluid className=\"cardDeckContainer mx-auto\">\n            <Row>\n            {(pages !== [])\n            ? pages.map(item => (<Page title={item.page_url} url={item.page_url} date={item.date_added} key={item.id} />))\n            : <p>Loading.</p>}\n            </Row>\n            <LoadingButton loading={props.loading} reloadCallback={loadPages} />\n        </Container>\n\n        </>\n    )\n}","import { useEffect, useState } from \"react\"\nimport { Container, Form, Row, Col } from \"react-bootstrap\";\nimport { LoadingButton } from './loading';\n\nexport function UserView(props) {\n    const [userInfo, setUserInfo] = useState(null);\n\n    const loadInformation = () => {\n        const fetchProfile = async () => {\n            const response = await props.profileCall(\"GET\", \"/user/self\", true, null)\n            setUserInfo(response ? response : null)\n        }\n        fetchProfile()\n\n    }\n    useEffect(() => {\n        loadInformation()\n    }, [])\n    \n    return (\n        <>\n        <Container fluid>\n            <Row>\n                <Col xl={4} md={8} xs={12} className=\"mx-auto\">\n                    <Container color=\"primary\" className=\"form-container bg-active\">\n                        <Form id=\"infoForm\">\n                            <Form.Group as={Row} controlId=\"formBasicEmail\" name=\"infoName\" id=\"signup_email\">\n                                <Form.Label column sm={2}>Name</Form.Label>\n                                <Col sm={10}>\n                                    <Form.Control type=\"text\" readOnly={true} defaultValue={userInfo ? userInfo.name : \"\"} />\n                                </Col>\n                            </Form.Group>\n                            <Form.Group as={Row} controlId=\"formBasicEmail\" name=\"infoEmail\" id=\"signup_email\">\n                                <Form.Label column sm={2}>Email address</Form.Label>\n                                <Col sm={10}>\n                                    <Form.Control type=\"email\" readOnly defaultValue={userInfo ? userInfo.email : \"\"} />\n                                </Col>\n                            </Form.Group>\n                        <LoadingButton loading={props.loading} reloadCallback={loadInformation} />\n                        </Form>\n                    </Container>\n                </Col>\n            </Row>\n        </Container>\n        </>\n    )\n}","export const Footer = () => {\n    return(\n    <footer className=\"footer bg-light\">\n        <div className=\"container-fluid mx-auto mt-4\">\n            <div className=\"row\">\n                <div className=\"col-12 my-auto h-100 text-center\"><a href=\"#\"></a>\n                    <ul className=\"list-inline mb-2\">\n                        {/* <!-- <li className=\"list-inline-item\"><a href=\"#\">About</a></li>\n                        <li className=\"list-inline-item\"><span>⋅</span></li>\n                        <li className=\"list-inline-item\"><a href=\"#\">Contact</a></li>\n                        <li className=\"list-inline-item\"><span>⋅</span></li>\n                        <li className=\"list-inline-item\"><a href=\"#\">Terms of &nbsp;Use</a></li>\n                        <li className=\"list-inline-item\"><span>⋅</span></li>\n                        <li className=\"list-inline-item\"><a href=\"#\">Privacy Policy</a></li> --> */}\n                    </ul>\n                    <p className=\"text-muted small mb-4 mx-auto\">© Pagemail 2021. All Rights Reserved. Project hosted by <button className=\"btn btn-link\" onClick={() => {window.open(\"https://pages.github.com/\")}}>GitHub Pages</button>.</p>\n                </div>\n                <div className=\"col-lg-6 my-auto h-100 text-center text-lg-right mx-auto\">\n                    <ul className=\"list-inline mb-0\">\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </footer>\n    )\n}\n\n","import './App.css';\nimport { useEffect, useState } from 'react';\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport { Navigation } from './components/navigation.js';\nimport { LoginPage } from './components/login';\nimport { SignUp } from './components/signup';\nimport { SavedPageView } from './components/pages';\nimport { UserView } from './components/user';\nimport { Footer } from './components/footer';\nimport { Alert, Button } from 'react-bootstrap';\n\nfunction App() {\n  const [accessToken, setAccessToken] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem('login_token') ? true : false);\n  const [redirect, setRedirect] = useState(null);\n  const [prefillEmail, setPrefillEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [failure, setFailure] = useState('');\n  const API_ROOT = process.env.REACT_APP_API_ROOT;\n\n  // Set up a global \"loading\" property and have all the \"setLoading\" logic and try catch blocks in\n  // an application level function cause typing this out is too hard...\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Listen for a saved API key - to make sure the state is always correct.\n  useEffect(() => {\n    window.addEventListener(\"storage\", () => {\n      if (localStorage.getItem('login_token')) {\n        setLoggedIn(true);\n        setAccessToken(localStorage.getItem('login_token'));\n      } else {\n        setLoggedIn(false);\n        setAccessToken(null);\n        localStorage.removeItem('username')\n      }\n    })\n  })\n\n  // Clean up after a signout event\n  const signOut = () => {\n    localStorage.removeItem('login_token');\n    setLoggedIn(false);\n    setRedirect('/');\n  }\n\n  // Throw an error if the response is not good.\n  function handleError(response) {\n    if (!response.ok) {\n      throw Error(response.status)\n    } else {\n      setFailure('')\n      return response\n    }\n  }\n\n  // API post method\n  async function POSTToAPI(method, route, auth_headers, body) {\n    setLoading(true)\n    // Set the headers\n    const headers = {'Content-Type': 'application/x-www-form-urlencoded'}\n    headers.Authorization = auth_headers ? \"Bearer \" + localStorage.getItem('login_token') : ''\n    await sleep(1000)\n    // Perform the request\n    const response = fetch(\n      API_ROOT + route, {\n        method: method,\n        redirect: \"follow\",\n        headers: headers,\n        body: body\n      }\n    )\n    .then(handleError)\n    .then(response => response.json())\n    .catch(error => {setFailure('Something went wrong connecting to our servers, please try again. HTTP ' + error.message)})\n    setLoading(false)\n    return response\n  }\n\n  // Keep the token in a variable in case it is needed (probably wont be soon - replace with a function like below)\n  useEffect(() => {\n    setAccessToken(localStorage.getItem('login_token'))\n  }, [loggedIn])\n  // Proabbly less memory intensive and a drop in replacment.\n  // const accessToken = () => {localStorage.getItem('login_token')}\n\n  return (\n    <div className=\"App\">\n      <Navigation loggedIn={loggedIn} />\n      <Alert\n        show={(failure !== '')}\n        variant=\"warning\"\n        onClose={() => setFailure('')}\n        dismissible\n        transition>{failure}</Alert>\n      <Router>\n      {redirect ? <Redirect to={redirect} /> : null}\n        <Switch>\n          <Route path=\"/login\">\n            {loggedIn\n            ? <p>You are already logged in.</p>\n            : <LoginPage\n              loading={loading}\n              loginCall={POSTToAPI}\n              redirect={setRedirect}\n              loginStatus={setLoggedIn}\n              prefillEmail={setPrefillEmail} />}\n          </Route>\n          <Route path=\"/signup\">\n            {loggedIn ? <p>You are already logged in.</p>\n            : <SignUp\n              loading={loading}\n              signupCall={POSTToAPI}\n              redirect={setRedirect}\n              loginStatus={setLoggedIn}\n              prefillEmail={prefillEmail} />}\n          </Route>\n          <Route path=\"/pages\">\n            {loggedIn\n            ? <SavedPageView\n              loading={loading}\n              pageCall={POSTToAPI} />\n            : <p>Not logged in</p>}\n          </Route>\n          <Route path=\"/user\">\n            {loggedIn\n            ? <UserView\n              loading={loading}\n              profileCall={POSTToAPI} />\n            : <p>Not logged in.</p>}\n          </Route>\n          <Route path=\"/signout\">\n            <p>Click to sign out</p>\n            <Button onClick={signOut}>Sign out.</Button>\n          </Route>\n          <Route path=\"/\">\n            <h1>Home</h1>\n          </Route>\n        </Switch>\n      </Router>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}